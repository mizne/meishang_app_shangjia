<ion-header>
  <ion-toolbar class="toolbarback">
    <ion-icon style="float:left;width:50px;height:30px;color:#949492;" name="ios-arrow-back" (click)='canGoBack()'>
    </ion-icon>
    <ion-title id="animated">发布教程</ion-title>
  </ion-toolbar>


</ion-header>

<ion-content>

  <div class="body-set-first" (click)="uploadFirst()">


    <div class="body-upload-img1" *ngIf=(isFirsrNull)>
      <div class="img-ex">
        <img src="assets/img/uploadImgNew.png">
      </div>
      <div class="tips-img">上传教程封面</div>
    </div>

    <div class="body-upload-img2" *ngIf=(!isFirsrNull)>
      <!-- {{PicList[0].PicPath}} -->
      <img [src]="PicList[0].PicPath">
    </div>

  </div>

 
  <div class="teaching-name">
    <input type="text" [(ngModel)]="ProductName" placeholder="输入教程名称" />


  </div>

  <div class="body-steps">
    <div class="per-step" *ngFor="let item of StepsList;let i=index">
      <div class="delete-steps">
        <div class="top-img" (click)="deleteSteps(i)">
          <img src="assets/img/delete.png">
        </div>
        <div class="tips-btn" (click)="deleteSteps(i)">删除步骤</div>


      </div>

      <div class="per-top">
        <input type="text" [(ngModel)]="item.title" placeholder="输入步骤标题" />


      </div>
      <div class="video-upload">
        <div class="title-video">
          上传视频
        </div>
        <a href="javascript:;" class="file1">选择文件
          <input type="file" name="" id="feature" accept="video/*" (change)="fileChange($event,i)"/>
        </a>
       
      </div>
      <!-- 循环显示视频 -->
      <div class="teach-video" *ngFor="let item of item.video;let k=index">
        <div class="img-top">
          <!-- <div class="tips-first" (click)="fileChange4(i)">更换封面</div> -->
          <div class="to-delete" (click)="goToDeleteVideo(i,k)">
            <img src="assets/img/delete.png">
          </div>
        </div>
      
        <video [src]="item.url" [poster]="videoPoster" class="video-per" #media id="singleVideo" preload="auto"
          controls>

        </video>



      </div>
      <!-- 循环显示图片 -->
      <div class="img-body">
        <div class="per-img-style" *ngFor="let item of item.picList;let k=index">
          <div class="img-top">
            <!-- <div class="tips-first" (click)="goToSetFirst(i,k)">设为封面</div> -->
            <div class="to-delete" (click)="goToDeleteImg(i,k)">
              <img src="assets/img/delete.png">
            </div>
          </div>

          <div class="img-style"><img [src]="item"></div>
          <!-- <div class="to-be-poster" (click)="goToSetFirst(i,k)"><img src="assets/img/set_first.png"></div> -->

        </div>

      </div>


      <!-- <div class="per-mid" >
              <img [src]="testPicUrl">
            
            
            </div> -->
      <!-- {{videoUrl}} -->

      <!-- 上传图片 -->
      <div class="body-upload-img" (click)="fileChange3(i)">
        <div class="img-ex">
          <img src="../../../assets/img/uploadImgNew.png">
        </div>
        <div class="tips-img">上传图片</div>
      </div>



      <div class="per-bottom">
        <textarea placeholder="输入步骤描述信息" [(ngModel)]="item.desc"></textarea>

      </div>


    </div>
    <div class="btn-add" (click)="goToAddSteps()">
      <div class="tips-btn">添加步骤</div>

    </div>

    <!-- <ion-list>
      <ion-list-header>推荐至分类</ion-list-header>

    
      <ion-item>
        <ion-label>选择分类</ion-label>
        <ion-select [(ngModel)]="selecText" cancelText="取消" okText="确定!">

          <ion-select-option [value]="item.RecordId" *ngFor="let item of CategoriesFirstList;let i=index">{{item.Name}}
          </ion-select-option>

        </ion-select>
      </ion-item>
    </ion-list> -->
  
    <div class="top-btn1">

      <div class="btn-tips1" (click)="goToSave()"> 存为草稿</div>
      <div class="btn-tips1" (click)="goToAddTeaching()"> 发布</div>
    </div>

  </div>


</ion-content>